function getEl(elID){return document.getElementById(elID);}var Layer=function(isModal,setID){this.isModal=isModal;this.setID=setID?setID:false;};Layer.dialogName='dialogBox';Layer.imagePath='objects/icons/';Layer.className='dialogBoxSite';Layer.closeIcon=null;Layer.maxDepth=5;Layer.prototype.create=function(){var container=Layer.createElement('div');container.style.position='absolute';container.style.display='none';container.className=Layer.className;container.dialogBox=this;this.container=container;var mainTable=Layer.createElement('table',container);mainTable.cellSpacing='0';mainTable.cellPadding='0';mainTable.border='0'; mainTable.width='250'; var tBodyM=Layer.createElement('tbody',mainTable);var rowM=Layer.createElement('tr',tBodyM);var cellM=Layer.createElement('td',rowM);var titleTable=Layer.createElement('table',cellM);titleTable.cellSpacing='0';titleTable.cellPadding='0';titleTable.border='0';titleTable.width='100%';titleTable.className='dboxTbTitleSite';var tBodyT=Layer.createElement('tbody',titleTable);var rowT=Layer.createElement('tr',tBodyT);var cellT=Layer.createElement('td',rowT);cellT.className='dboxTbLeftSite';var titleCell=Layer.createElement('td',rowT);this.titleCell=titleCell;titleCell.className='dboxTitleSite';var cellT=Layer.createElement('td',rowT);cellT.className='dboxTbRightSite';Layer.initCloseIcon();var closeIcon=Layer.createElement('img',cellT);closeIcon.src=Layer.closeIcon.src;closeIcon.border='0';closeIcon.alt=LANGUAGE['close'];closeIcon.dialogBox=this;var aLink=Layer.createElement('a',cellT);aLink.href='javascript:void(0)';aLink.appendChild(closeIcon);aLink.onclick=Layer.closeBox;var rowM=Layer.createElement('tr',tBodyM);var cellM=Layer.createElement('td',rowM);cellM.className='dboxMainPanelSite';var contentArea=Layer.createElement('div',cellM);this.contentArea=contentArea;contentArea.className='dboxContentAreaSite';var rowB=Layer.createElement('tr',tBodyM);var cellB=Layer.createElement('td',rowB);cellB.className='dboxButtonsSite';var buttonsArea=Layer.createElement('div',cellB);this.buttonsArea=buttonsArea;Drag.init(titleCell,container,0,null,0);};Layer.prototype.createBox=function(){var container=Layer.createElement('div');container.style.position='absolute';container.style.display='none';container.dialogBox=this;this.container=container;var mainTable=Layer.createElement('table',container);mainTable.bgColor='#dddddd';mainTable.cellSpacing='10';mainTable.cellPadding='0';mainTable.border='0';var tBodyM=Layer.createElement('tbody',mainTable);var rowM=Layer.createElement('tr',tBodyM);var cellM=Layer.createElement('td',rowM);cellM.bgColor='#ffffff';var contentArea=Layer.createElement('div',cellM);this.contentArea=contentArea;};Layer.prototype.show=function(){if(this.isModal){this.veil=Layer.veiling.show(this.veilCss?this.veilCss:null);}Layer.body.toTop(this.container);this.container.style.display='block';Layer.box.hideShowBehind();};Layer.prototype.hide=function(){if(this.isModal){Layer.veiling.hide(this.veil);}if(this.contentType=='object'){this.contentArea.childNodes[0].style.display='none';this.htmlContentParent.appendChild(this.contentArea.childNodes[0]);}this.container.parentNode.removeChild(this.container);Layer.box.hideShowBehind();if(this.closeFunction){this.closeFunction();}};Layer.prototype.setWidth=function(width){this.contentArea.style.width=width+'px';};Layer.prototype.setHeight=function(height){this.contentArea.style.height=height+'px';this.contentArea.style.overflow='auto';};Layer.prototype.setTitle=function(title){this.titleCell.innerHTML=title;};Layer.prototype.setVeilCss=function(val){this.veilCss=val;};Layer.prototype.setContent=function(htmlContent){this.contentType=typeof htmlContent;if(this.contentType=='string'){this.contentArea.innerHTML=htmlContent;if(this.setID){this.container.id=(Layer.dialogName+Math.random());}}else if(this.contentType=='object'){htmlContent.style.position='relative';htmlContent.style.display='block';this.htmlContentParent=htmlContent.parentNode;this.contentArea.appendChild(htmlContent);if(this.setID){this.container.id=(Layer.dialogName+htmlContent.id);}}};Layer.prototype.resetForm=function(formName){if(document.forms[formName]){document.forms[formName].reset();}};Layer.prototype.setCloseFunction=function(func){this.closeFunction=func;};Layer.prototype.addButton=function(attributes){var button=document.createElement('input');button.type='button';button.id=(attributes.name?attributes.name:('btn'+Math.random()));button.name=(attributes.name?attributes.name:('btn'+Math.random()));button.value=(attributes.value?attributes.value:'Buton');button.style.cssText=(attributes.css?attributes.css:'');button.onclick=attributes.onclick||Layer.closeBox;this.buttonsArea.appendChild(button);};Layer.prototype.addToButtonsArea=function(html){this.buttonsArea.innerHTML=html;};Layer.prototype.focusOn=function(el){if(el){el.focus();}else{var els=this.contentArea.getElementsByTagName('input');if(els.length>0){for(var i=0;i<els.length;i++){if((els[i].type=='button')||(els[i].type=='text')){els[i].focus();break;}}}else{var buts=this.buttonsArea.getElementsByTagName('input');if(buts.length>0){buts[buts.length-1].focus();}}}};Layer.prototype.moveTo=function(x,y){if(!x||(x==-1)){x=Math.round((document.documentElement.clientWidth-this.container.offsetWidth)/2);}if(!y||(y==-1)){y=Math.round((document.documentElement.clientHeight-this.container.offsetHeight)/2)+getScrollTop();}this.container.style.left=x+'px';this.container.style.top=y+'px';};Layer.prototype.setUrl=function(url,height,frmID){if(!this.frmEl){this.frmEl=document.createElement('iframe');this.frmEl.frameBorder='no';this.frmEl.style.width='100%';if(height){this.frmEl.style.height=height+'px';}if(frmID){this.frmEl.id=frmID;this.frmEl.name=frmID;}this.contentArea.appendChild(this.frmEl);}this.frmEl.src=url;if(this.setID){this.container.id=(Layer.dialogName+(frmID?frmID:Math.random()));}};Layer.prototype.getUrl=function(){if(this.frmEl){var url=this.frmEl.src;if(this.frmEl.contentWindow){try{url=this.frmEl.contentWindow.location.href;}catch(e){}}return url;}return false;};Layer.prototype.getContentNode=function(){return this.contentArea;};Layer.initCloseIcon=function(){if(Layer.closeIcon==null){Layer.closeIcon=new Image();Layer.closeIcon.src=Layer.imagePath+'16x16/close.gif';}};Layer.closeBox=function(e){if(!e){e=window.event;}var node=e.target?e.target:e.srcElement;var count=0;while((node!=null)&&(count<Layer.maxDepth)){if(node.dialogBox){node.dialogBox.hide();break;}node=node.parentNode;count++;}};Layer.closeBoxById=function(id){var el=getEl(Layer.dialogName+id);if(el&&el.dialogBox){el.dialogBox.hide();}};Layer.createElement=function(type,parent){var el=null;if(document.createElementNS){el=document.createElementNS('http://www.w3.org/1999/xhtml',type);}else{el=document.createElement(type);}if(typeof(parent)!='undefined'){parent.appendChild(el);}return el;};Layer.body={toTop:function(el,unclickable){if(!Layer.body.que){Layer.body.que=document.createElement('div');document.body.appendChild(Layer.body.que);}if(!el.bodyZ){el.bodyZ=Layer.body.nid++;if(!unclickable){addListener(el,'mousedown',function(){Layer.body.toTop(el)});}Layer.body.que.appendChild(el);Layer.body.set(el);}else if(el.bodyZ!=Layer.body.last.bodyZ){Layer.body.set(el);}},set:function(el){el.style.zIndex=Layer.body.nextZ++;Layer.body.last=el;},nid:1,nextZ:10001};Layer.veiling={show:function(css){var veil=Layer.veiling.create();for(var prop in Layer.veiling.css)veil.style[prop]=Layer.veiling.css[prop];if(css){for(var prop in css)veil.style[prop]=css[prop];}else{veil.style['backgroundColor']='#000000';veil.style['filter']='alpha(opacity=60)';veil.style['opacity']=0;} veil.style.display='block';return veil;},hide:function(el){el.parentNode.removeChild(el);},create:function(){var shadow=Layer.createElement('div');shadow.innerHTML='';Layer.body.toTop(shadow,true);addListener(window,'resize',function(){Layer.veiling.fix(shadow);});Layer.veiling.fix(shadow);return shadow;},fix:function(el){el.style.width=Math.max(document.body.scrollWidth,getWinW())+'px';el.style.height=Math.max(document.body.scrollHeight,getWinH())+'px';},css:{position:'absolute',display:'none',top:0,left:0,cursor:'not-allowed'}};Layer.box={getAllBox:function(){var divs=new Array();var els=document.getElementsByTagName('div');for(var i=0;i<els.length;i++){if(els[i].dialogBox){divs.push(els[i]);}}return divs;},getTopBox:function(){var divs=this.getAllBox();if(divs.length>0){return divs[divs.length-1];}else{return document.body;}},hideShowBehind:function(){var tags=new Array('object','applet','iframe');if(navigator.appName=="Microsoft Internet Explorer"){var rawVersion=/MSIE\s([0-9]+)\.[0-9];/g.exec(navigator.appVersion);var version=parseInt(rawVersion[1]);if(version<7){tags.push('select');}}for(var k=0;k<tags.length;k++){var arr=document.getElementsByTagName(tags[k]);for(var i=0;i<arr.length;i++){arr[i].style.visibility='hidden';}}var target=this.getTopBox();for(var k=0;k<tags.length;k++){var arr=target.getElementsByTagName(tags[k]);for(var i=0;i<arr.length;i++){arr[i].style.visibility='visible';}}}};Layer.bubble={show:function(obj,tx,w,hideAfter){if(hideAfter){this.autoHide(hideAfter);}if(!w){w=tx.length*20;}this.init(w);this.container.textContainer.innerHTML=tx;document.body.appendChild(this.container);var pos=getPosition(obj);var sol=(pos.x-w+15);var ust=(pos.y-this.container.scrollHeight-10);if(sol<0){sol=0;}this.container.pointer.style.left=(pos.x-15-sol)+'px';if(ust<0){ust=0;}this.container.style.left=sol+'px';this.container.style.top=ust+'px';this.container.style.diplay='block';},hide:function(){if(this.container&&this.container.parentNode){this.container.parentNode.removeChild(this.container);}},autoHide:function(sec){if(sec<=0){this.hide();}else{var obj=this;window.setTimeout(function(){obj.autoHide(sec-1);},1000);}},init:function(width){if(!this.container){var container=Layer.createElement('div');container.className='bubble';container.style.position='absolute';container.style.width=width+'px';this.container=container;var tbl=Layer.createElement('table',container);tbl.width='100%';tbl.border='0';tbl.cellPadding='0';tbl.cellSpacing='0';var tbdy=Layer.createElement('tbody',tbl);var tr1=Layer.createElement('tr',tbdy);var td1=Layer.createElement('td',tr1);td1.style.width='6px';td1.style.height='6px';var img1=Layer.createElement('img',td1);img1.border='0';img1.width='6';img1.height='6';img1.alt='';img1.src=Layer.imagePath+'bubble/bubble_left_top.gif';var td2=Layer.createElement('td',tr1);td2.style.height='6px';td2.style.background='url('+Layer.imagePath+'bubble/bubble_top.gif)';var img2=Layer.createElement('img',td2);img2.border='0';img2.width='1';img2.height='6';img2.alt='';img2.src=Layer.imagePath+'bubble/spacer.gif';var td3=Layer.createElement('td',tr1);td3.style.width='6px';td3.style.height='6px';var img3=Layer.createElement('img',td3);img3.border='0';img3.width='6';img3.height='6';img3.alt='';img3.src=Layer.imagePath+'bubble/bubble_right_top.gif';var tr2=Layer.createElement('tr',tbdy);var td4=Layer.createElement('td',tr2);td4.style.width='6px';td4.style.background='url('+Layer.imagePath+'bubble/bubble_left.gif)';var img4=Layer.createElement('img',td4);img4.border='0';img4.width='6';img4.height='1';img4.alt='';img4.src=Layer.imagePath+'bubble/spacer.gif';var td5=Layer.createElement('td',tr2);td5.style.backgroundColor='#ffffe1';this.container.textContainer=Layer.createElement('div',td5);var td6=Layer.createElement('td',tr2);td6.style.width='6px';td6.style.background='url('+Layer.imagePath+'bubble/bubble_right.gif)';var img5=Layer.createElement('img',td6);img5.border='0';img5.width='6';img5.height='1';img5.alt='';img5.src=Layer.imagePath+'bubble/spacer.gif';var tr3=Layer.createElement('tr',tbdy);var td7=Layer.createElement('td',tr3);td7.style.width='6px';td7.style.height='6px';var img6=Layer.createElement('img',td7);img6.border='0';img6.width='6';img6.height='6';img6.alt='';img6.src=Layer.imagePath+'bubble/bubble_left_bottom.gif';var td8=Layer.createElement('td',tr3);td8.style.height='6px';td8.style.background='url('+Layer.imagePath+'bubble/bubble_bottom.gif)';var img7=Layer.createElement('img',td8);img7.border='0';img7.width='1';img7.height='6';img7.alt='';img7.src=Layer.imagePath+'bubble/spacer.gif';var td9=Layer.createElement('td',tr3);td9.style.width='6px';td9.style.height='6px';var img8=Layer.createElement('img',td9);img8.border='0';img8.width='6';img8.height='6';img8.alt='';img8.src=Layer.imagePath+'bubble/bubble_right_bottom.gif';var dv=Layer.createElement('div',container);dv.style.position='absolute';dv.style.left='15px';dv.style.bottom='-20px';var img9=Layer.createElement('img',dv);img9.border='0';img9.width='20';img9.height='21';img9.alt='';img9.src=Layer.imagePath+'bubble/bubble_pointer.gif';this.container.pointer=dv;}this.container.style.width=width+'px';}};var Drag={obj:null,init:function(o,oRoot,minX,maxX,minY,maxY,bSwapHorzRef,bSwapVertRef,fXMapper,fYMapper){o.onmousedown=Drag.start;o.hmode=bSwapHorzRef?false:true;o.vmode=bSwapVertRef?false:true;o.root=oRoot&&oRoot!=null?oRoot:o;if(o.hmode&&isNaN(parseInt(o.root.style.left))){o.root.style.left='0px';}if(o.vmode&&isNaN(parseInt(o.root.style.top))){o.root.style.top='0px';}if(!o.hmode&&isNaN(parseInt(o.root.style.right))){o.root.style.right='0px';}if(!o.vmode&&isNaN(parseInt(o.root.style.bottom))){o.root.style.bottom='0px';}o.minX=typeof minX!='undefined'?minX:null;o.minY=typeof minY!='undefined'?minY:null;o.maxX=typeof maxX!='undefined'?maxX:null;o.maxY=typeof maxY!='undefined'?maxY:null;o.xMapper=fXMapper?fXMapper:null;o.yMapper=fYMapper?fYMapper:null;o.root.onDragStart=new Function();o.root.onDragEnd=new Function();o.root.onDrag=new Function();},start:function(e){var o=Drag.obj=this;e=Drag.fixE(e);var y=parseInt(o.vmode?o.root.style.top:o.root.style.bottom);var x=parseInt(o.hmode?o.root.style.left:o.root.style.right);o.root.onDragStart(x,y);o.lastMouseX=e.clientX;o.lastMouseY=e.clientY;if(o.hmode){if(o.minX!=null){o.minMouseX=e.clientX-x+o.minX;}if(o.maxX!=null){o.maxMouseX=o.minMouseX+o.maxX-o.minX;}}else{if(o.minX!=null){o.maxMouseX=-o.minX+e.clientX+x;}if(o.maxX!=null){o.minMouseX=-o.maxX+e.clientX+x;}}if(o.vmode){if(o.minY!=null){o.minMouseY=e.clientY-y+o.minY;}if(o.maxY!=null){o.maxMouseY=o.minMouseY+o.maxY-o.minY;}}else{if(o.minY!=null){o.maxMouseY=-o.minY+e.clientY+y;}if(o.maxY!=null){o.minMouseY=-o.maxY+e.clientY+y;}}document.onmousemove=Drag.drag;document.onmouseup=Drag.end;return false;},drag:function(e){e=Drag.fixE(e);var o=Drag.obj;var ey=e.clientY;var ex=e.clientX;var y=parseInt(o.vmode?o.root.style.top:o.root.style.bottom);var x=parseInt(o.hmode?o.root.style.left:o.root.style.right);var nx,ny;if(o.minX!=null){ex=o.hmode?Math.max(ex,o.minMouseX):Math.min(ex,o.maxMouseX);}if(o.maxX!=null){ex=o.hmode?Math.min(ex,o.maxMouseX):Math.max(ex,o.minMouseX);}if(o.minY!=null){ey=o.vmode?Math.max(ey,o.minMouseY):Math.min(ey,o.maxMouseY);}if(o.maxY!=null){ey=o.vmode?Math.min(ey,o.maxMouseY):Math.max(ey,o.minMouseY);}nx=x+((ex-o.lastMouseX)*(o.hmode?1:-1));ny=y+((ey-o.lastMouseY)*(o.vmode?1:-1));if(o.xMapper){nx=o.xMapper(y);}else if(o.yMapper){ny=o.yMapper(x);}Drag.obj.root.style[o.hmode?'left':'right']=nx+'px';Drag.obj.root.style[o.vmode?'top':'bottom']=ny+'px';Drag.obj.lastMouseX=ex;Drag.obj.lastMouseY=ey;Drag.obj.root.onDrag(nx,ny);return false;},end:function(){document.onmousemove=null;document.onmouseup=null;Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode?'left':'right']),parseInt(Drag.obj.root.style[Drag.obj.vmode?'top':'bottom']));Drag.obj=null;},fixE:function(e){if(typeof e=='undefined'){e=window.event;}if(typeof e.layerX=='undefined'){e.layerX=e.offsetX;}if(typeof e.layerY=='undefined'){e.layerY=e.offsetY;}return e;}};var ajaxObject=function(method,url,params,extras){this.http=false;this.running=false;this.timeout=(extras&&extras.timeout)?extras.timeout:30;this.method=method;this.url=(/\?/.test(url))?url:url+'?';this.params=params?(params.length>0?params:'null=null'):null;this.extra=extras?extras:{};this.errors={'support':LANGUAGE['support'],'fatal':LANGUAGE['fatal'],'status':LANGUAGE['status'],'timeout':LANGUAGE['timeout']};this.init();};ajaxObject.prototype.debug=false;ajaxObject.prototype.init=function(){if(typeof(XMLHttpRequest)!='undefined'){this.http=new XMLHttpRequest();}else if(window.ActiveXObject){try{this.http=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){try{this.http=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){this.http=false;}}}if(this.http){this.running=true;this.onIdle('start');}else{this.onError('support');}};ajaxObject.prototype.run=function(){if(!this.running){return false;}var that=this;try{this.http.onreadystatechange=function(){ajaxObject.handler(that);};this.timeID=window.setTimeout(function(){ajaxObject.end(that)},(this.timeout*1000));if(this.debug){messageDialog('Method: '+this.method+'<br />'+'URL: '+this.url+'<br />'+'Parameters: '+this.params);}if(this.method&&(/post/i.test(this.method))){var uri=this.url+'&rnd='+Math.random();this.http.open("POST",uri,true);this.http.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.http.setRequestHeader("Content-Length",(this.params?this.params.length:0));this.http.setRequestHeader("Cache-control","no-cache");this.http.setRequestHeader("Connection","close");this.http.send(this.params);}else{var uri=this.url+((this.params&&(this.params.length>0))?'&'+this.params:'')+'&rnd='+Math.random();this.http.open("GET",uri,true);this.http.send(null);}}catch(e){this.http=false;this.running=false;this.onIdle('stop');this.onError('fatal');}return true;};ajaxObject.end=function(refObj){if(refObj.running){refObj.running=false;refObj.http.abort();refObj.http=false;refObj.onIdle('stop');refObj.onError('timeout');}};ajaxObject.handler=function(refObj){if(refObj.debug){messageDialog('State: '+refObj.http.readyState,{type:'OK'});}if(refObj.running){if((refObj.http.readyState==4)||(refObj.http.readyState=='complete')){refObj.running=false;refObj.onIdle('stop');window.clearTimeout(refObj.timeID);if(refObj.debug){messageDialog('Status: '+refObj.http.status,{type:'OK'});}refObj.text=refObj.http.responseText;refObj.xml=refObj.http.responseXML?refObj.http.responseXML:null;refObj.status=refObj.http.status;if(refObj.http.status==200){refObj.onLoad();refObj.http=false;}else{refObj.onError('status');}}}};ajaxObject.prototype.onError=function(err){if(this.errors[err]){messageDialog(this.errors[err],{type:'OK',icon:'warning.gif'});}else{messageDialog(err,{type:'OK',icon:'warning.gif'});}};ajaxObject.prototype.onIdle=function(act){var type=this.extra.type?this.extra.type:'NONE';var message=this.extra.message?this.extra.message:'Lütfen bekleyin...';if(this.extra.target){if(typeof(this.extra.target)=='object'){var target=this.extra.target;}else if((typeof(this.extra.target)=='string')&&getEl(this.extra.target)){var target=getEl(this.extra.target);}}if(this.extra.form){formDisabled(this.extra.form,(act=='start'?true:false));}switch(type){case'DIALOG':if(act=='start'){if(target){if(!getEl('loadingpoint')){var el=document.createElement('div');el.id='loadingpoint';el.className='loadingpoint';el.innerHTML=message;target.appendChild(el);ajaxObject.mask.show(target);}else{getEl('loadingpoint').innerHTML=message;}}}else{if(target){if(getEl('loadingpoint')){target.removeChild(getEl('loadingpoint'));}ajaxObject.mask.hide(target);}}break;case'LIST':if(target){if(act=='start'){target.innerHTML='<div style="color:#FF0000; text-align:center; line-height:40px;">'+message+'<\/div>';}else{target.innerHTML='';}}break;case'MESSAGE':if(act=='start'){processDialog('show',message);}else{processDialog('hide');}break;}};ajaxObject.mask={maskID:'dialogBoxMask',show:function(target){var el=this.create();if(target){target.appendChild(el);this.hideShowBehind(target,'hidden');this.buttons(target,true);}el.style.display='block';el.style.width=target.scrollWidth+'px';el.style.height=target.scrollHeight+'px';},hide:function(target){var el=getEl(this.maskID);if(el){el.parentNode.removeChild(el);this.hideShowBehind(target,'visible');this.buttons(target,false);}},buttons:function(target,disabled){var el=getEl(Layer.dialogName+target.id);if(el&&el.dialogBox&&el.dialogBox.buttonsArea){var els=el.dialogBox.buttonsArea.getElementsByTagName('input');for(var i=0;i<els.length;i++){els[i].disabled=disabled;}}},create:function(){var el=getEl(this.maskID);if(!el){var el=document.createElement('div');el.setAttribute('id',this.maskID);el.style['position']='absolute';el.style['top']=0;el.style['left']=0;el.style['backgroundColor']='#000000';el.style['mozOpacity']='0.01';el.style['opacity']='0.01';el.style['filter']='alpha(opacity=1)';el.innerHTML='&nbsp;';}return el;},hideShowBehind:function(target,act){var tags=new Array('object','applet','iframe');if(navigator.appName=="Microsoft Internet Explorer"){var rawVersion=/MSIE\s([0-9]+)\.[0-9];/g.exec(navigator.appVersion);var version=parseInt(rawVersion[1]);if(version<7){tags.push('select');}}for(var k=0;k<tags.length;k++){var arr=target.getElementsByTagName(tags[k]);for(var i=0;i<arr.length;i++){arr[i].style.visibility=act;}}}};ajaxObject.prototype.onLoad=function(){};